# Advanced Rigol .wfm Waveform Viewer

ğŸŒ **Live Demo**: [https://nezarati.github.io/rigol-waveform-viewer/index.html](https://nezarati.github.io/rigol-waveform-viewer/index.html)

This is a powerful, self-contained HTML-based tool for viewing and analyzing binary waveform files (`.wfm`) generated by Rigol oscilloscopes. It runs entirely in your web browser, requiring no installation or server-side processing.

This viewer extends basic functionality with a rich set of features for in-depth analysis, annotation, and professional-grade exporting, making it ideal for engineers, students, and hobbyists.

## Screenshot

![Screenshot of the Advanced Rigol .wfm Waveform Viewer](screenshot.png)

---

## Features

### ğŸ“‚ File Handling
* **Load Files**: Open `.wfm` files by clicking the "Load" button or by **dragging and dropping** them directly onto the page.
* **Multi-File Support**: Open multiple files simultaneously. Each file appears in its own **tab** for easy switching.
* **File Information**: The sidebar displays the current filename and total number of data points.

---

### ğŸ“ˆ Waveform Display & Interaction
* **Interactive Panning**: Hold `Shift` + `Mouse Wheel` to pan the waveform horizontally.
* **Interactive Zooming**:
Â  Â  * **Time (X-Axis)**: Hold `Ctrl` + `Mouse Wheel`.
Â  Â  * **Voltage (Y-Axis)**: Hold `Ctrl` + `Shift` + `Mouse Wheel`.
Â  Â  * **Area Zoom**: Click and drag with the mouse to select and zoom into a specific area.
* **View Control**:
Â  Â  * **Reset View**: Double-click anywhere on the waveform or press the `F` key to fit the entire waveform to the view.
Â  Â  * **Snap to Scales**: An optional mode to snap the zoom levels to standard oscilloscope time/voltage scales.
Â  Â  * **Relative Time**: Set the beginning of the current view as `t=0` for relative time measurements.
* **Channel Controls**:
Â  Â  * Toggle channel visibility on or off.
Â  Â  * Swap the drawing order (which channel appears in front).
Â  Â  * Assign custom names/legends to each channel.

---

### ğŸ“ Measurements & Analysis
* **Live Measurement Table**: An on-screen table displays key statistics for the visible portion of the waveform.
Â  Â  * **Calculations**: **Max**, **Min**, **Average**, and **RMS** voltage.
Â  Â  * **Customizable**: Toggle which measurements are displayed in the sidebar.
* **Cursor Measurements**:
Â  Â  * Enable two horizontal and two vertical cursors for precise measurements.
Â  Â  * Readouts for **Î”V** (voltage difference), **Î”t** (time difference), and **1/Î”t** (frequency).
Â  Â  * **Channel Tracking**: Cursors can automatically "snap" to the waveform of a selected channel.
Â  Â  * **Quick Set**: Instantly set cursors to the maximum or minimum voltage points in the current view.

---

### âœ’ï¸ Annotations
* **Area Annotation**: Hold `Shift` + Drag to draw a measurement box that remains on the plot, showing the `Î”t` and `Î”V` for that specific region.
* **Text Annotation**: Press the `T` key to enter text mode and click on the waveform to add text labels.
* **Manage Annotations**: Select annotations to move or resize them. Delete a selected annotation with the `Delete` key.

---

### ğŸ“¤ Exporting & Copying
* **Copy to Clipboard**: Simply press `Ctrl` + `C` to copy the current view to your clipboard as a PNG image. A **"B&W Copy"** option in the sidebar controls the theme for clipboard images.
* **Advanced Export Dialog**: Export your work for reports, presentations, or data processing.
Â  Â  * **Formats**: **PNG**, **SVG** (vector), and **CSV** (raw data).
Â  Â  * **Content**: Export the current zoomed-in view or the entire waveform dataset.
Â  Â  * **Styling Options**:
Â  Â  Â  Â  * **Black & White**: Creates a high-contrast, printer-friendly version with a white background.
Â  Â  Â  Â  * **IEEE Style**: Formats the output for academic publications with a specific size, **10pt Times New Roman font**, and simplified colors.
Â  Â  Â  Â  * **Measurements at Bottom**: An option to place the measurement table neatly below the graph instead of as an overlay.

---

## How to Use

1.Â  **Download**: Save the `.html` file to your computer.
2.Â  **Open**: Open the file in a modern web browser like Google Chrome, Mozilla Firefox, or Microsoft Edge.
3.Â  **Load**: Drag a `.wfm` file onto the page or use the "Load WFM File" button.

---

## Shortcuts

| ActionÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  | ShortcutÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
| --------------------------- | --------------------------------------- |
| Fit Waveform to ViewÂ  Â  Â  Â  | `F` KeyÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â |
| Copy to ClipboardÂ  Â  Â  Â  Â  Â | `Ctrl` + `C`Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
| Add Text AnnotationÂ  Â  Â  Â  Â | `T` KeyÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â |
| Reset ViewÂ  Â  Â  Â  Â  Â  Â  Â  Â  | `Double-Click`Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
| Delete Selected AnnotationÂ  | `Delete` KeyÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
| Zoom to AreaÂ  Â  Â  Â  Â  Â  Â  Â  | `Mouse Drag`Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
| Create Area AnnotationÂ  Â  Â  | `Shift` + `Mouse Drag`Â  Â  Â  Â  Â  Â  Â  Â  Â  |
| Pan HorizontallyÂ  Â  Â  Â  Â  Â  | `Shift` + `Mouse Wheel`Â  Â  Â  Â  Â  Â  Â  Â  Â |
| Zoom Time (Horizontal)Â  Â  Â  | `Ctrl` + `Mouse Wheel`Â  Â  Â  Â  Â  Â  Â  Â  Â  |
| Zoom Voltage (Vertical)Â  Â  Â | `Ctrl` + `Shift` + `Mouse Wheel`Â  Â  Â  Â  |

---

## Credits
* **Original Author**: Ali NezaratiZadeh
