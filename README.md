# Advanced Rigol .wfm Waveform Viewer

üåê **Live Demo**: [https://nezarati.github.io/rigol-waveform-viewer/index.html](https://nezarati.github.io/rigol-waveform-viewer/index.html)

This is a powerful, self-contained HTML-based tool for viewing and analyzing binary waveform files (`.wfm`) generated by Rigol oscilloscopes. It runs entirely in your web browser, requiring no installation or server-side processing.

This is a powerful, self-contained HTML-based tool for viewing and analyzing binary waveform files (`.wfm`) generated by Rigol oscilloscopes. It runs entirely in your web browser, requiring no installation or server-side processing.

This viewer extends basic functionality with a rich set of features for in-depth analysis, annotation, and professional-grade exporting, making it ideal for engineers, students, and hobbyists.



---

## Features

### üìÇ File Handling
* **Load Files**: Open `.wfm` files by clicking the "Load" button or by **dragging and dropping** them directly onto the page.
* **Multi-File Support**: Open multiple files simultaneously. Each file appears in its own **tab** for easy switching.
* **File Information**: The sidebar displays the current filename and total number of data points.

---

### üìà Waveform Display & Interaction
* **Interactive Panning**: Hold `Shift` + `Mouse Wheel` to pan the waveform horizontally.
* **Interactive Zooming**:
    * **Time (X-Axis)**: Hold `Ctrl` + `Mouse Wheel`.
    * **Voltage (Y-Axis)**: Hold `Ctrl` + `Shift` + `Mouse Wheel`.
    * **Area Zoom**: Click and drag with the mouse to select and zoom into a specific area.
* **View Control**:
    * **Reset View**: Double-click anywhere on the waveform or press the `F` key to fit the entire waveform to the view.
    * **Snap to Scales**: An optional mode to snap the zoom levels to standard oscilloscope time/voltage scales.
    * **Relative Time**: Set the beginning of the current view as `t=0` for relative time measurements.
* **Channel Controls**:
    * Toggle channel visibility on or off.
    * Swap the drawing order (which channel appears in front).
    * Assign custom names/legends to each channel.

---

### üìè Measurements & Analysis
* **Live Measurement Table**: An on-screen table displays key statistics for the visible portion of the waveform.
    * **Calculations**: **Max**, **Min**, **Average**, and **RMS** voltage.
    * **Customizable**: Toggle which measurements are displayed in the sidebar.
* **Cursor Measurements**:
    * Enable two horizontal and two vertical cursors for precise measurements.
    * Readouts for **ŒîV** (voltage difference), **Œît** (time difference), and **1/Œît** (frequency).
    * **Channel Tracking**: Cursors can automatically "snap" to the waveform of a selected channel.
    * **Quick Set**: Instantly set cursors to the maximum or minimum voltage points in the current view.

---

### ‚úíÔ∏è Annotations
* **Area Annotation**: Hold `Shift` + Drag to draw a measurement box that remains on the plot, showing the `Œît` and `ŒîV` for that specific region.
* **Text Annotation**: Press the `T` key to enter text mode and click on the waveform to add text labels.
* **Manage Annotations**: Select annotations to move or resize them. Delete a selected annotation with the `Delete` key.

---

### üì§ Exporting & Copying
* **Copy to Clipboard**: Simply press `Ctrl` + `C` to copy the current view to your clipboard as a PNG image. A **"B&W Copy"** option in the sidebar controls the theme for clipboard images.
* **Advanced Export Dialog**: Export your work for reports, presentations, or data processing.
    * **Formats**: **PNG**, **SVG** (vector), and **CSV** (raw data).
    * **Content**: Export the current zoomed-in view or the entire waveform dataset.
    * **Styling Options**:
        * **Black & White**: Creates a high-contrast, printer-friendly version with a white background.
        * **IEEE Style**: Formats the output for academic publications with a specific size, **10pt Times New Roman font**, and simplified colors.
        * **Measurements at Bottom**: An option to place the measurement table neatly below the graph instead of as an overlay.

---

## How to Use

1.  **Download**: Save the `.html` file to your computer.
2.  **Open**: Open the file in a modern web browser like Google Chrome, Mozilla Firefox, or Microsoft Edge.
3.  **Load**: Drag a `.wfm` file onto the page or use the "Load WFM File" button.

---

## Shortcuts

| Action                      | Shortcut                                |
| --------------------------- | --------------------------------------- |
| Fit Waveform to View        | `F` Key                                 |
| Copy to Clipboard           | `Ctrl` + `C`                            |
| Add Text Annotation         | `T` Key                                 |
| Reset View                  | `Double-Click`                          |
| Delete Selected Annotation  | `Delete` Key                            |
| Zoom to Area                | `Mouse Drag`                            |
| Create Area Annotation      | `Shift` + `Mouse Drag`                  |
| Pan Horizontally            | `Shift` + `Mouse Wheel`                 |
| Zoom Time (Horizontal)      | `Ctrl` + `Mouse Wheel`                  |
| Zoom Voltage (Vertical)     | `Ctrl` + `Shift` + `Mouse Wheel`        |

---

## Credits
* **Original Author**: Ali NezaratiZadeh
